<!-- 324x296 ratio -->
<div class="text-center">
  <p class="font__color--white">Mood Tracker</p>
  <% if false %>
  <i class="fa fa-smile-o fa-5x font__color--white"></i>
  <br>
  <br>
  <p class="font__color--white">[UNDER CONSTRUCTION]</p>
  <p class="font__color--white">Mood Tracker</p>
  <% end %>
  
  <%#= javascript_include_tag "https://www.gstatic.com/charts/loader.js" %>
  <%#= javascript_include_tag "//www.google.com/jsapi", "chartkick" %>
  <%= javascript_include_tag 'application' %>
  
  <%# content_for :after_js do %>
  <%= line_chart current_user.moods.group_by_day(:created_at).sum(:mood),
    max: 5, min: 1, 
    width: "300px", height: "200px",
    # discrete: true, # this does not work
    # xtitle: "Time", ytitle: "Population", title works
    # https://stackoverflow.com/questions/27590771/rails-chartkick-want-only-integer-values-on-axes-use-discrete-or-something-els
    #library: { vAxis: { ticks: [1,2,3,4,5] }}
    # scales: { yAxes: [{ticks: {reverse: true}}]},
    # hAxis: {ticks: (1..5).to_a}, # this is not working
    vAxis: {title: "mood", ticks: [1,2,3,4,5]}, # this is not working
    download: "mood_tracker" %>
  <%# end %>
  
    <!-- change the data to Mood[mood] for each day (Data = variable after line_chart -->
</div>

<% if false %>
<script>
  var chart = Chartkick.charts["chart-1"]
  console.log(chart)
  var options = {
    scales: {
      yAxes: [{
        ticks:{
          // callback:(v)=>this.formatSecsAsMins(v),
          min: 1,
          max: 5,
          stepSize: 1,
        }
      }]
    },
  }
  chart.setOptions(options)
  console.log(chart)
  chart.redraw()
</script>
<% end %>

<% if false %>
<% library_options = { 
  max: 5, # min: 1, 
  width: "300px", height: "200px",
  # discrete: true,
  # vAxis: {ticks: [1,2,3,4,5]},
  scales: {
    yAxes: [{
      # crosshair: true,
      ticks: {
        min: 1,
        max: 5,
        stepSize: 1
      }
    }]
  },
  # vAxis: {ticks: (1..5).to_a},
  # xAxis: { crosshair: true },
  download: "mood_tracker" 
} %>
<% end %>

